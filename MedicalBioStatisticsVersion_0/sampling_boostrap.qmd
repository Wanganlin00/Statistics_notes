
# 蒙特卡洛

```{r}
set.seed(20241218)

n <- 50000
points <- tibble("x" = runif(n), "y" = runif(n))


points <- points %>%
  mutate(inside = map2_dbl(.x = x, .y = y, ~ if_else(.x**2 + .y**2 < 1, 1, 0))) %>%
  rowid_to_column("N")

points <- points %>%
  mutate(estimate = 4 * cumsum(inside) / N)

points %>%
  ggplot() +
  geom_line(aes(y = estimate, x = N), colour = "#82518c") +
  geom_hline(yintercept = pi)
```

